<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>GoldenWay å®˜ç¶²å…§å®¹å‚™ä»½ç´¢å¼•</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!--
    GoldenWay å®˜ç¶²å…§å®¹å‚™ä»½ â”€ è‡ªå‹•æ¨¹ç‹€ç´¢å¼•é¦–é 
    - å·¦å´ï¼šä¾ GitHub ç›®éŒ„çµæ§‹è‡ªå‹•å»ºç«‹æ¨¹ç‹€æ¸…å–®
    - å³å´ï¼šå³æ™‚é è¦½ GitHub Pages ä¸­å°æ‡‰çš„ HTML æª”æ¡ˆ
    - Author: ChatGPT for TsenWu
  -->

  <style>
    :root {
      --bg-body: #f5f5f7;
      --bg-panel: #ffffff;
      --bg-sidebar: #fbfbfd;
      --border-subtle: #dde1e8;
      --accent: #ff7a1a;
      --accent-soft: rgba(255,122,26,0.12);
      --accent-strong: #e8670a;
      --text-main: #111827;
      --text-sub: #6b7280;
      --text-muted: #9ca3af;
      --shadow-soft: 0 18px 55px rgba(15,23,42,0.08);
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-sm: 8px;
      --sidebar-width: 310px;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans TC", system-ui, sans-serif;
      background: var(--bg-body);
      color: var(--text-main);
    }

    body {
      display: flex;
      align-items: stretch;
      justify-content: center;
      padding: 20px;
    }

    .app-shell {
      display: flex;
      width: 100%;
      max-width: 1440px;
      height: calc(100vh - 40px);
      background: var(--bg-panel);
      border-radius: 26px;
      box-shadow: var(--shadow-soft);
      overflow: hidden;
    }

    /* å·¦å´ï¼šæ¨¹ç‹€ç´¢å¼• */

    .sidebar {
      width: var(--sidebar-width);
      background: var(--bg-sidebar);
      border-right: 1px solid var(--border-subtle);
      display: flex;
      flex-direction: column;
      padding: 18px 14px 16px 18px;
    }

    .sidebar-header {
      padding: 6px 6px 4px 4px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      margin-bottom: 14px;
    }

    .logo-dot {
      width: 26px;
      height: 26px;
      border-radius: 9px;
      background: radial-gradient(circle at 30% 15%, #ffe7c2 0, #ffb977 33%, #f97316 75%, #ea580c 100%);
      margin-right: 10px;
      box-shadow: 0 8px 18px rgba(249,115,22,0.45);
    }

    .sidebar-title-main {
      font-size: 15px;
      font-weight: 700;
      letter-spacing: 0.03em;
    }

    .sidebar-title-sub {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 1px;
    }

    .sidebar-section-label {
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.13em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin: 6px 6px 4px;
    }

    .tree-container {
      flex: 1;
      padding: 6px 2px 6px 0;
      overflow-y: auto;
      overscroll-behavior: contain;
      scrollbar-width: thin;
      scrollbar-color: rgba(148,163,184,0.8) transparent;
      font-size: 13px;
    }

    .tree-container::-webkit-scrollbar {
      width: 8px;
    }
    .tree-container::-webkit-scrollbar-track {
      background: transparent;
    }
    .tree-container::-webkit-scrollbar-thumb {
      background: rgba(148,163,184,0.8);
      border-radius: 4px;
    }

    ul.tree-root {
      list-style: none;
      margin: 0;
      padding-left: 0;
    }

    .tree-node {
      margin: 1px 0;
    }

    .tree-node-label {
      display: flex;
      align-items: center;
      padding: 4px 8px 4px 6px;
      border-radius: 999px;
      cursor: pointer;
      color: var(--text-main);
      transition: background 0.15s ease, color 0.15s ease;
      user-select: none;
      gap: 3px;
    }

    .tree-node-label:hover {
      background: rgba(148,163,184,0.16);
    }

    .tree-node-label.is-folder {
      font-weight: 600;
    }

    .tree-node-label.is-file {
      font-weight: 400;
    }

    .tree-node-label .twisty {
      width: 14px;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      font-size: 11px;
      color: var(--text-muted);
      margin-right: 2px;
    }

    .tree-node.folder.collapsed > .tree-node-label .twisty {
      transform: rotate(0deg);
    }

    .tree-node.folder.expanded > .tree-node-label .twisty {
      transform: rotate(90deg);
    }

    .tree-node-label .node-icon {
      font-size: 14px;
      margin-right: 4px;
      width: 16px;
      text-align: center;
    }

    .tree-node-label .node-text {
      flex: 1;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .tree-node-label .badge-root {
      font-size: 10px;
      padding: 1px 6px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent-strong);
      margin-left: 4px;
    }

    .tree-node.children {
      margin-left: 18px;
    }

    .tree-node > ul {
      list-style: none;
      margin: 1px 0 2px 18px;
      padding-left: 0;
      border-left: 1px dashed rgba(148,163,184,0.45);
    }

    .tree-node.folder.collapsed > ul {
      display: none;
    }

    .tree-node-label.selected {
      background: var(--accent-soft);
      color: var(--accent-strong);
    }

    .tree-node-label.selected .twisty {
      color: var(--accent-strong);
    }

    .tree-node-label.selected .node-icon {
      color: var(--accent-strong);
    }

    .sidebar-footer {
      padding: 6px 4px 0;
      border-top: 1px solid rgba(148,163,184,0.25);
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 4px;
    }

    .sidebar-footer a {
      color: var(--accent-strong);
      text-decoration: none;
    }

    .sidebar-footer a:hover {
      text-decoration: underline;
    }

    /* å³å´ï¼šé è¦½é¢æ¿ */

    .main-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px 22px 20px 20px;
      background: radial-gradient(circle at top left, #fdf2e9 0, #f5f5f7 45%, #f3f4f6 100%);
    }

    .main-header {
      margin-bottom: 10px;
    }

    .main-title {
      font-size: 22px;
      font-weight: 750;
      letter-spacing: 0.04em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .main-title span.highlight {
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 600;
      color: var(--accent-strong);
      background: var(--accent-soft);
    }

    .main-subtitle {
      font-size: 13px;
      color: var(--text-sub);
      margin-top: 4px;
    }

    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 10px;
      margin-bottom: 12px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .breadcrumb {
      font-size: 12px;
      color: var(--text-sub);
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.85);
      box-shadow: 0 6px 18px rgba(15,23,42,0.08);
    }

    .breadcrumb span.path {
      max-width: 360px;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .pill {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(15,23,42,0.06);
      color: var(--text-sub);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #10b981;
    }

    .preview-shell {
      flex: 1;
      border-radius: 22px;
      background: rgba(255,255,255,0.94);
      border: 1px solid rgba(209,213,219,0.8);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      backdrop-filter: blur(14px);
    }

    .preview-header {
      padding: 8px 14px;
      border-bottom: 1px solid rgba(209,213,219,0.8);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: radial-gradient(circle at top left, #fef3c7 0, #fefdfb 50%, #f3f4f6 100%);
    }

    .traffic-lights {
      display: inline-flex;
      gap: 6px;
    }

    .traffic-lights span {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: #f87171;
      box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
    }

    .traffic-lights span:nth-child(2) {
      background: #facc15;
    }

    .traffic-lights span:nth-child(3) {
      background: #4ade80;
    }

    .preview-title {
      font-size: 12px;
      color: var(--text-sub);
      flex: 1;
      text-align: center;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      padding: 0 10px;
    }

    .preview-open-link {
      font-size: 11px;
      color: var(--accent-strong);
      text-decoration: none;
      padding: 3px 7px;
      border-radius: 999px;
      background: rgba(255,255,255,0.75);
      border: 1px solid rgba(248,250,252,0.9);
    }

    .preview-open-link:hover {
      text-decoration: underline;
    }

    .preview-body {
      flex: 1;
      position: relative;
      background: #111827;
    }

    .preview-iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #111827;
    }

    .preview-empty-state {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #e5e7eb;
      padding: 0 40px;
      text-align: center;
      pointer-events: none;
    }

    .preview-empty-state h2 {
      font-size: 18px;
      margin-bottom: 6px;
    }

    .preview-empty-state p {
      font-size: 13px;
      color: #9ca3af;
      max-width: 420px;
    }

    .preview-loader {
      position: absolute;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at center, rgba(17,24,39,0) 0, rgba(17,24,39,0.85) 70%);
      z-index: 4;
    }

    .preview-loader.active {
      display: flex;
    }

    .spinner {
      width: 42px;
      height: 42px;
      border-radius: 999px;
      border: 4px solid rgba(209,213,219,0.25);
      border-top-color: var(--accent-strong);
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .preview-footer {
      padding: 7px 14px;
      border-top: 1px solid rgba(55,65,81,0.55);
      background: linear-gradient(to right, rgba(31,41,55,0.96), rgba(15,23,42,0.94));
      color: #9ca3af;
      font-size: 11px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    .preview-footer span.key {
      color: #e5e7eb;
      font-weight: 500;
    }

    .preview-footer .hint {
      opacity: 0.8;
    }

    /* RWD */

    @media (max-width: 960px) {
      .app-shell {
        flex-direction: column;
        height: auto;
      }
      .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid var(--border-subtle);
        padding: 14px 16px;
      }
      .main-panel {
        padding: 14px 14px 16px;
      }
      .preview-shell {
        border-radius: 18px;
      }
      .breadcrumb span.path {
        max-width: 240px;
      }
    }

    @media (max-width: 640px) {
      body {
        padding: 12px;
      }
      .app-shell {
        border-radius: 20px;
      }
      .sidebar-header {
        margin-bottom: 6px;
      }
      .sidebar-section-label {
        display: none;
      }
      .tree-container {
        max-height: 240px;
      }
      .toolbar {
        align-items: flex-start;
      }
      .breadcrumb {
        width: 100%;
      }
      .preview-footer {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>

<div class="app-shell">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo-dot"></div>
      <div>
        <div class="sidebar-title-main">ç¶²ç«™çµæ§‹èˆ‡ç”¢å“ç´¢å¼•</div>
        <div class="sidebar-title-sub">GoldenWay å®˜ç¶² HTML / CSS å‚™ä»½</div>
      </div>
    </div>

    <div class="sidebar-section-label">REPOSITORY</div>
    <div class="tree-container" id="treeContainer">
      <ul class="tree-root" id="treeRoot">
        <!-- è‡ªå‹•æ’å…¥æ¨¹ç‹€çµæ§‹ -->
      </ul>
    </div>

    <div class="sidebar-footer">
      <span>ä¾†æºï¼š<a href="https://github.com/TsenWu/goldenway-website-backup" target="_blank" rel="noreferrer">goldenway-website-backup</a></span>
      <span class="pill"><span class="pill-dot"></span> Live via GitHub Pages</span>
    </div>
  </aside>

  <!-- Main Panel -->
  <main class="main-panel">
    <header class="main-header">
      <div class="main-title">
        GoldenWay å®˜ç¶²å…§å®¹å‚™ä»½
        <span class="highlight">å…§éƒ¨ä½¿ç”¨ Â· ç·šä¸Šé è¦½</span>
      </div>
      <div class="main-subtitle">
        å·¦å´æ˜¯ä¾ç…§ GitHub ç›®éŒ„è‡ªå‹•ç”Ÿæˆçš„æ¨¹ç‹€ç´¢å¼•ï¼Œé»é¸ä»»ä¸€æª”æ¡ˆå³å¯åœ¨å³å´å³æ™‚é è¦½å¯¦éš›ç¶²é ç•«é¢ã€‚
      </div>

      <div class="toolbar">
        <div class="breadcrumb" id="breadcrumb">
          <span style="font-size: 13px; color:#9ca3af;">è·¯å¾‘</span>
          <span>Â·</span>
          <span class="path" id="breadcrumbPath">å°šæœªé¸æ“‡æª”æ¡ˆ</span>
        </div>
        <div class="pill hint">
          âŒ˜ æç¤ºï¼šå»ºè­°ä½¿ç”¨æ¡Œæ©Ÿæ­é…å…¨è¢å¹•ç€è¦½ä»¥å–å¾—æœ€ä½³é«”é©—
        </div>
      </div>
    </header>

    <section class="preview-shell">
      <div class="preview-header">
        <div class="traffic-lights">
          <span></span><span></span><span></span>
        </div>
        <div class="preview-title" id="previewTitle">
          å°šæœªè¼‰å…¥ä»»ä½•é é¢
        </div>
        <a id="openInNewTab" href="#" target="_blank" rel="noreferrer" class="preview-open-link" style="visibility:hidden;">
          åœ¨æ–°åˆ†é é–‹å•Ÿ
        </a>
      </div>

      <div class="preview-body">
        <div class="preview-loader" id="previewLoader">
          <div class="spinner"></div>
        </div>
        <iframe id="previewFrame" class="preview-iframe" src="about:blank"></iframe>
        <div class="preview-empty-state" id="previewPlaceholder">
          <h2>æ­¡è¿ä½¿ç”¨ GoldenWay å®˜ç¶²å‚™ä»½ç´¢å¼•</h2>
          <p>
            å¾å·¦å´æ¨¹ç‹€æ¸…å–®é¸æ“‡ä»»ä¸€ç”¢å“ä»‹ç´¹é ã€è¦æ ¼è¡¨æˆ–è¦–è¦ºåŒ–åœ–è¡¨æª”æ¡ˆï¼Œ
            å³å¯åœ¨æ­¤å³æ™‚é è¦½å¯¦éš›çš„ GitHub Pages å…§å®¹ã€‚
          </p>
        </div>
      </div>

      <div class="preview-footer">
        <div>
          <span class="key">éƒ¨ç½²ï¼š</span>
          ç”± GitHub Pages æä¾›éœæ…‹è¨—ç®¡ã€‚
        </div>
        <div class="hint">
          è‹¥é è¦½ç„¡æ³•é¡¯ç¤ºï¼Œè«‹ç¢ºèªå°æ‡‰æª”æ¡ˆæ˜¯å¦ç‚º HTMLï¼Œæˆ–ç›´æ¥ä½¿ç”¨å³ä¸Šè§’é€£çµåœ¨æ–°åˆ†é é–‹å•Ÿã€‚
        </div>
      </div>
    </section>
  </main>
</div>

<script>
  // ====== è¨­å®šå€ï¼ˆä¾ä½ çš„ repo èª¿æ•´ï¼‰ ======
  const OWNER = "TsenWu";
  const REPO = "goldenway-website-backup";
  const BRANCH = "main";

  const PAGES_BASE = `https://${OWNER.toLowerCase()}.github.io/${REPO}/`;
  const API_BASE = `https://api.github.com/repos/${OWNER}/${REPO}/contents/`;

  // å¿½ç•¥ä¸éœ€è¦é¡¯ç¤ºçš„è³‡æ–™å¤¾ / æª”æ¡ˆ
  const IGNORE_DIRS = [".github", ".git", "node_modules"];
  const IGNORE_FILES = ["index.html"];

  // å‹å–„é¡¯ç¤ºç”¨çš„åç¨± Mapping
  const DISPLAY_NAME_MAP = {
    "about": "aboutï¼ˆé—œæ–¼æˆ‘å€‘ï¼‰",
    "product": "productï¼ˆç”¢å“ï¼‰",
    "installation": "installationï¼ˆå®‰è£èªªæ˜ï¼‰",
    "shared": "sharedï¼è¦–è¦ºåŒ–åœ–è¡¨",
    "README.md": "READMEï¼ˆä½¿ç”¨èªªæ˜ï¼‰"
  };

  // ====== DOM åƒç…§ ======
  const treeRootEl = document.getElementById("treeRoot");
  const previewFrame = document.getElementById("previewFrame");
  const previewTitleEl = document.getElementById("previewTitle");
  const previewPlaceholderEl = document.getElementById("previewPlaceholder");
  const previewLoaderEl = document.getElementById("previewLoader");
  const breadcrumbPathEl = document.getElementById("breadcrumbPath");
  const openInNewTabEl = document.getElementById("openInNewTab");

  let currentSelectedLabel = null;

  // ====== Helper Functions ======

  function friendlyName(name) {
    return DISPLAY_NAME_MAP[name] || name;
  }

  function isIgnoredDir(name) {
    return IGNORE_DIRS.includes(name);
  }

  function isIgnoredFile(name) {
    return IGNORE_FILES.includes(name);
  }

  function buildPreviewUrl(path) {
    // path ç›´æ¥æ¥åœ¨ GitHub Pages base å¾Œé¢å³å¯
    return PAGES_BASE + encodeURI(path);
  }

  function updateBreadcrumb(path) {
    if (!path) {
      breadcrumbPathEl.textContent = "å°šæœªé¸æ“‡æª”æ¡ˆ";
      return;
    }
    breadcrumbPathEl.textContent = "/" + path;
  }

  function setSelectedLabel(labelEl) {
    if (currentSelectedLabel) {
      currentSelectedLabel.classList.remove("selected");
    }
    currentSelectedLabel = labelEl;
    if (currentSelectedLabel) {
      currentSelectedLabel.classList.add("selected");
    }
  }

  function showLoader(show) {
    if (show) {
      previewLoaderEl.classList.add("active");
    } else {
      previewLoaderEl.classList.remove("active");
    }
  }

  // ====== å»ºç«‹æ¨¹ç‹€ç¯€é» ======

  function createFolderNode(item) {
    const li = document.createElement("li");
    li.className = "tree-node folder collapsed";
    li.dataset.path = item.path;
    li.dataset.loaded = "false";

    const label = document.createElement("div");
    label.className = "tree-node-label is-folder";
    label.innerHTML = `
      <span class="twisty">â–¸</span>
      <span class="node-icon">ğŸ“‚</span>
      <span class="node-text">${friendlyName(item.name)}</span>
    `;

    label.addEventListener("click", async (event) => {
      event.stopPropagation();
      const isCollapsed = li.classList.contains("collapsed");
      if (isCollapsed) {
        // å±•é–‹æ™‚ï¼Œè‹¥å°šæœªè¼‰å…¥å­é …ç›®å°±è¼‰å…¥
        if (li.dataset.loaded !== "true") {
          await loadDirectoryChildren(item.path, li);
          li.dataset.loaded = "true";
        }
        li.classList.remove("collapsed");
        li.classList.add("expanded");
      } else {
        li.classList.remove("expanded");
        li.classList.add("collapsed");
      }
    });

    li.appendChild(label);

    const childrenUl = document.createElement("ul");
    li.appendChild(childrenUl);

    return li;
  }

  function createFileNode(item) {
    const li = document.createElement("li");
    li.className = "tree-node file";
    li.dataset.path = item.path;

    const label = document.createElement("div");
    label.className = "tree-node-label is-file";
    label.innerHTML = `
      <span class="twisty"></span>
      <span class="node-icon">ğŸ“„</span>
      <span class="node-text">${friendlyName(item.name)}</span>
    `;

    label.addEventListener("click", (event) => {
      event.stopPropagation();
      const path = item.path;
      const url = buildPreviewUrl(path);
      setSelectedLabel(label);
      updateBreadcrumb(path);
      previewTitleEl.textContent = path;
      openInNewTabEl.href = url;
      openInNewTabEl.style.visibility = "visible";

      previewPlaceholderEl.style.display = "none";
      showLoader(true);
      // è¨­å®š iframe src
      previewFrame.src = url;
    });

    li.appendChild(label);
    return li;
  }

  // ====== è¼‰å…¥ç›®éŒ„å…§å®¹ï¼ˆé€é GitHub APIï¼‰ ======

  async function fetchDirectory(path = "") {
    const url = path ? API_BASE + encodeURI(path) + `?ref=${BRANCH}` : API_BASE + `?ref=${BRANCH}`;
    const res = await fetch(url);
    if (!res.ok) {
      console.error("GitHub API error:", res.status, res.statusText);
      return [];
    }
    const data = await res.json();
    if (!Array.isArray(data)) return [];
    return data;
  }

  async function loadDirectoryChildren(path, nodeLi) {
    const containerUl = nodeLi.querySelector("ul");
    containerUl.innerHTML = "";

    const items = await fetchDirectory(path);

    // ä¾ type æ’åºï¼šè³‡æ–™å¤¾åœ¨å‰ï¼Œæª”æ¡ˆåœ¨å¾Œï¼›åŒé¡åˆ¥å†ä¾åç¨±æ’åº
    items.sort((a, b) => {
      if (a.type === b.type) return a.name.localeCompare(b.name, "zh-Hant");
      return a.type === "dir" ? -1 : 1;
    });

    for (const item of items) {
      if (item.type === "dir") {
        if (isIgnoredDir(item.name)) continue;
        const folderNode = createFolderNode(item);
        containerUl.appendChild(folderNode);
      } else if (item.type === "file") {
        if (isIgnoredFile(item.name)) continue;
        const fileNode = createFileNode(item);
        containerUl.appendChild(fileNode);
      }
    }
  }

  async function buildRootTree() {
    treeRootEl.innerHTML = "";

    const items = await fetchDirectory("");

    // æ ¹ç›®éŒ„åŒæ¨£å…ˆè³‡æ–™å¤¾å¾Œæª”æ¡ˆ
    items.sort((a, b) => {
      if (a.type === b.type) return a.name.localeCompare(b.name, "zh-Hant");
      return a.type === "dir" ? -1 : 1;
    });

    for (const item of items) {
      if (item.type === "dir") {
        if (isIgnoredDir(item.name)) continue;
        const folderNode = createFolderNode(item);

        // é è¨­å±•é–‹å¹¾å€‹ä¸»è¦è³‡æ–™å¤¾ï¼ˆabout, product, sharedï¼‰
        if (["about", "product", "shared"].includes(item.name)) {
          folderNode.classList.remove("collapsed");
          folderNode.classList.add("expanded");
          loadDirectoryChildren(item.path, folderNode).then(() => {
            folderNode.dataset.loaded = "true";
          });
        }

        treeRootEl.appendChild(folderNode);
      } else if (item.type === "file") {
        if (isIgnoredFile(item.name)) continue;
        const fileNode = createFileNode(item);
        treeRootEl.appendChild(fileNode);
      }
    }
  }

  // ====== Iframe è¼‰å…¥äº‹ä»¶ï¼šé—œé–‰ Loading ======
  previewFrame.addEventListener("load", () => {
    showLoader(false);
  });

  // ====== åˆå§‹åŒ– ======
  document.addEventListener("DOMContentLoaded", () => {
    buildRootTree().catch(err => console.error(err));
  });
</script>

</body>
</html>
